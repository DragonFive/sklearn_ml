---
title: 位操作
tags: 新建,模板,小书匠
grammar_cjkRuby: true
---


# XOR - 异或
异或的特点 

```
x ^ 0 = x
x ^ x = 0 // interesting and important!
```

异或运算可以进行复杂的操作，比如面试题：在1-100的范围内有99个数，且都不相同。求哪个数没有出现？就可以用异或解决。用1到100与这99个数进行异或。得到的结果就是没有出现的那个数

也可以进行数值交换 
temp =a ^b
a=a^temp
b=b^temp


## 移位操作 
记住一个法则就好，清零就是与操作 拿0和这位与 拿1与其他位与
置1就是或操作，拿1和这位或，拿0和其他位或

不过要记住的是这里位的下标是从右往左算，然后下标从0开始
> 将x最右边的n位清零  x & (~0 << n) 或者  x&~( (1<<n )-1)

其中~0表示的是所有位上都是1 也就是-1 ,~x表示每个位上取反

> 获取x的第n位值  (x>>(n-1))&1 
获取x的第n位的幂值  x & (1 << (n - 1))

比如12的第4位是1，而第四位的幂是8

>仅将第n位置为1  x | (1<<n)
>仅将第n位置为0   x &~(1<<n)

> 将x最高位至第n位(含)清零   x & ((1<<n)-1)
> 将第n位(含)至第0位(含)清零  x |     

> 仅更新第n位，写入值为v; v为1则更新为1，否则为0


# 参考资料